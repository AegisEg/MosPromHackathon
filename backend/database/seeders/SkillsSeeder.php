<?php

namespace Database\Seeders;

use App\Models\Skills;
use App\Models\Professions;
use Illuminate\Database\Seeder;

class SkillsSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // Специализированные навыки для каждой профессии
        $professionSkills = [
            'Программист' => [
                'PHP', 'JavaScript', 'Python', 'C#', 'Java', 'Git', 'Docker', 'MySQL', 'Laravel', 'React', 'PostgreSQL',
                'C++', 'Python', 'Ruby', 'Swift', 'Kotlin', 'Scala', 'Go', 'Rust', 'TypeScript', 'HTML', 'CSS', 'SQL',
            ],
            'Менеджер по продажам' => [
                'CRM системы', 'Переговоры', 'Презентации', 'Анализ рынка', 'Работа с клиентами', 
                'Планирование продаж', 'Консультирование', 'Обработка возражений', 'Активные продажи', 'Email-маркетинг'
            ],
            'Врач' => [
                'Диагностика', 'Лечение', 'Анатомия', 'Фармакология', 'Медицинское оборудование', 
                'Экстренная помощь', 'Ведение документации', 'Общение с пациентами', 'Медицинская этика', 'Клинические исследования'
            ],
            'Учитель' => [
                'Педагогика', 'Методика преподавания', 'Психология', 'Планирование уроков', 'Оценка знаний', 
                'Работа с детьми', 'Образовательные технологии', 'Классное руководство', 'Внеклассная работа', 'Индивидуальный подход'
            ],
            'Инженер' => [
                'AutoCAD', 'SolidWorks', 'Проектирование', 'Черчение', 'Материаловедение', 
                'Техническая документация', 'Контроль качества', 'Безопасность труда', 'Инновации', 'Управление проектами'
            ],
            'Маркетолог' => [
                'SMM', 'SEO', 'Google Analytics', 'Контент-маркетинг', 'Email-маркетинг', 
                'Анализ конкурентов', 'Брендинг', 'Рекламные кампании', 'Веб-аналитика', 'A/B тестирование'
            ],
            'Бухгалтер' => [
                '1С:Бухгалтерия', 'Налоговое планирование', 'Финансовая отчетность', 'Аудит', 'Банковские операции', 
                'Учетная политика', 'Контроль расходов', 'Бюджетирование', 'Налоговое законодательство', 'Документооборот'
            ],
            'Дизайнер' => [
                'Adobe Photoshop', 'Adobe Illustrator', 'Figma', 'UI/UX дизайн', 'Типографика', 
                'Цветоведение', 'Композиция', 'Брендинг', 'Веб-дизайн', 'Графический дизайн'
            ],
            'Аналитик данных' => [
                'Python', 'R', 'SQL', 'Excel', 'Power BI', 'Tableau', 'Статистика', 'Машинное обучение', 
                'Визуализация данных', 'A/B тестирование'
            ],
            'HR-менеджер' => [
                'Подбор персонала', 'Интервьюирование', 'Оценка персонала', 'Адаптация сотрудников', 'Мотивация', 
                'Трудовое право', 'Обучение персонала', 'Конфликтология', 'HR-аналитика', 'Корпоративная культура'
            ]
        ];

        // Общие навыки (soft skills)
        $generalSkills = [
            'Усидчивость', 'Стрессоустойчивость', 'Обучаемость', 'Коммуникабельность', 'Работа в команде',
            'Лидерство', 'Тайм-менеджмент', 'Критическое мышление', 'Креативность', 'Адаптивность'
        ];

        // Создаем специализированные навыки и связываем их с профессиями
        foreach ($professionSkills as $professionName => $skills) {
            $profession = Professions::where('name', $professionName)->first();
            
            if ($profession) {
                foreach ($skills as $skillName) {
                    $skill = Skills::firstOrCreate(['name' => $skillName]);
                    $profession->skills()->syncWithoutDetaching([$skill->id]);
                }
            }
        }

        // Создаем общие навыки (не привязываем к профессиям)
        foreach ($generalSkills as $skillName) {
            Skills::firstOrCreate(['name' => $skillName]);
        }
    }
}
